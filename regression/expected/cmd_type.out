CREATE EXTENSION pg_stat_monitor;
SELECT pg_stat_monitor_reset();
 pg_stat_monitor_reset 
-----------------------
 
(1 row)

CREATE TABLE t1 (a INTEGER);
INSERT INTO t1 VALUES(1);
SELECT a FROM t1;
 a 
---
 1
(1 row)

UPDATE t1 SET a = 2;
DELETE FROM t1;
SELECT a FROM t1 FOR UPDATE;
 a 
---
(0 rows)

TRUNCATE t1;
DROP TABLE t1;
SELECT query, cmd_type,  cmd_type_text FROM pg_stat_monitor ORDER BY query COLLATE "C";
                                          query                                          | cmd_type | cmd_type_text 
-----------------------------------------------------------------------------------------+----------+---------------
 CREATE TABLE t1 (a INTEGER);                                                            |        0 | 
 DELETE FROM t1;                                                                         |        4 | DELETE
 DROP TABLE t1;                                                                          |        0 | 
 INSERT INTO t1 VALUES($1)                                                               |        3 | INSERT
 SELECT a FROM t1;                                                                       |        1 | SELECT
 SELECT pg_stat_monitor_reset();                                                         |        1 | SELECT
 SELECT query, cmd_type,  cmd_type_text FROM pg_stat_monitor ORDER BY query COLLATE "C"; |        0 | 
 TRUNCATE t1;                                                                            |        0 | 
 UPDATE t1 SET a = $1                                                                    |        2 | UPDATE
(9 rows)

SELECT pg_stat_monitor_reset();
 pg_stat_monitor_reset 
-----------------------
 
(1 row)

DROP EXTENSION pg_stat_monitor;
